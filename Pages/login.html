<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Sign In</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <link rel='stylesheet' href="../CSS/login.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    </head>
    <body>
        <div class="container">
            <div class="card">
            <article class="card-body">
            <div class="logocontainer">
            <img src="../Assets/googleLogo.png" class="logo">
            </div>
            <h4 class="card-title mb-4 mt-1">Sign in</h4>
            <form name="loginform">
                <div class="form-group">
                    <label>Email Id</label>
                    <input name="" class="form-control" placeholder="Email" id="email" type="email">
                    <span id="incorrectEmail" style="color:red"></span>
                </div>
                <div class="form-group">
                    <a class="float-right" href="./forget.html">Forgot?</a>
                    <label>Password</label>
                    <input class="form-control" placeholder="******" id="password" type="password">
                    <span id="incorrectPassword" style="color:red"></span>
                </div> 
                <div class="form-group">
                    <button type="button" class="btn btn-primary btn-block" onclick="login()"> Login  </button>
                </div>   
                <a href="./Register.html" class="line4">Create an account</a>                                                       
            </form>
            </article>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
        <script>
            function login()
             {
                   validate();
                    //let formData = new FormData(document.forms.loginform);
                     var userName = document.getElementById("email").value;
                      var password = document.getElementById("password").value;
                    let obj={
                        "email":userName,
                        "password":password
                    }
                    console.log(obj);
                    var xhttp = new XMLHttpRequest();
                    xhttp.open("POST", "http://fundoonotes.incubation.bridgelabz.com/api/user/login", true);
                    xhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
                    xhttp.send(JSON.stringify(obj));
                //    xhttp.send();

            }	
               function validate(){
                    var userName = document.getElementById("email").value;
                    var password = document.getElementById("password").value;
                    var status=false;
                    var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                    if(userName =='')
                    {
                        document.getElementById("incorrectEmail").innerHTML=" Please enter your email id"; 
                        status=false; 
                    }
                    else if(!filter.test(userName))
                    {
                        document.getElementById("incorrectEmail").innerHTML=" Please enter valid email id";  
                        status=false;
                    }
                    else if(password=='')
                    {
                        document.getElementById("incorrectPassword").innerHTML=" Please enter password"; 
                        status=false; 
                    }
                    else if(password.length < 6)
                    {
                        document.getElementById("incorrectPassword").innerHTML=" Password length must be greater than 6";  
                        status=false;
                    }
                    else
                    {
                        status=true;
                    }
                    return status; 

               }
        </script>	
    </body>
 </html>